package com.springboot.springboot.dto.planning;

import java.util.List;
import java.util.stream.Collectors;

import com.springboot.springboot.entity.planning.Planning;
import com.springboot.springboot.entity.planning.SessionFormation;
import java.util.List;
import java.util.stream.Collectors;

public class SessionAVenirDTO {
    private String nom;
    private String formateurNom;
    private List<CreneauDTO> creneaux;
    private Planning planning;

    public SessionAVenirDTO(SessionFormation session) {
        this.nom = session.getNomCours();
        // Ã‰vite le lazy proxy
        this.formateurNom = session.getFormateur() != null 
            ? session.getFormateur().getNom() + " " + session.getFormateur().getPrenom() 
            : null;
        this.creneaux = session.getCreneaux().stream()
                               .map(CreneauDTO::new)
                               .collect(Collectors.toList());
        this.planning = session.getPlanning();
    }

    // getters
    public String getNom() { return nom; }
    public String getFormateurNom() { return formateurNom; }
    public List<CreneauDTO> getCreneaux() { return creneaux; }
    public Planning getPlanning() { return planning; }
}
